###### 关于js的变量提升

------

1. 定义：变量提升就是把变量提升到函数**作用域的最顶端**，而且变量提升只提升变量的声明，不会提升变量的赋值。 **javascript并不是严格的自上而下执行的语言**。 

2. 为什么会有变量提升？

   - js需要经历编译和执行阶段，而js在编译的时候，会找到所有的变量声明并提前去声明变量，并且不受其他语句的影响，所以，在编译阶段，将第一步先执行完成。

3. **作用域**：

   - 全局作用域

      最外层函数定义的变量拥有全局作用域，即对任何内部函数来说，都是可以访问的： 

     > `var x = 1;`
     >
     > `function fn(){`
     >
     > `console.log(x)`
     >
     > `}`
     >
     > `fn();    // 1`

   - 局部作用域

      局部作用域一般只在固定的代码片段内可访问到，而对于函数外部是无法访问的，最常见的例如函数内部 

     > `function fn(){`
     >
     >  `var x = 1;`
     >
     > `}`
     >
     > `fn();`
     >
     > `console.log(x)  // x is not defined`

   - 在js中，类似if语句等不会创建一个新的作用域，只有函数才会创建新的作用域

     > ```
     >  var x = 1;
     >     console.log(x); // 1
     >  if (true) {
     >    var x = 2;
     >    console.log(x); //2
     > }
     >  console.log(x);// 2
     > ```

4. **变量提升**：

   - 分为三种：var声明，let与const声明和函数声明

   > ```
   > (function(){
   >     var a='One';
   >     var b='Two';
   >     var c='Three';
   > })()
   > ```

   这段代码其实就是（进行了变量提升）

   > ```
   > (function(){
   >     var a,b,c;
   >     a='One';
   >     b='Two';
   >     c='Three';
   > })()
   > ```

5.  **当有多个同名变量声明的时候，函数声明会覆盖其他的声明。如果有多个函数声明，则是由最后的一个函数声明覆盖之前所有的声明。** 

   > ```
   > foo();
   > function foo() {   
   > console.log('1');
   > } 
   > function foo() {    
   > console.log('2');
   > }     //  2
   > ```

   

   